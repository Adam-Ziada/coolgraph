---
title: "Intro to coolgraphs"
author: "Adam Ziada"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

This package has been inspired by my research group and there desire to make awesome graphs without really knowing much about R. In this package I will be introducing three new funcitons, one that allows you to make a simple heatmap, another that lets you copare 2 continous variables and facet over anothe 2 categorical variables, and a 3rd that allows you to compare 3 continous variables by mapping the 3rd variable to the size of the data points.

##heatmap()

To use this function you must pre-prepare a table or else it won't. The term used is the summarize the data table, which means for your two catigorical variables, you should have only one row in your table for each combination of catigorical variables, with one y output for each row. For example, if you want to see the effect of sex (male vs female) and smoking status (yes vs no), and you want to measure mutation rate accross 100 samples, you would prepare a table with 3 columns and 4 rows. Note that we have averaged the mutation for each of the 4 combinations of sex and smoking.


|   sex    | smoking  | average mutation rate  |
|----------|----------|------------------------|
| "male"   | "no"     |        15.5            |
|----------|----------|------------------------|
| "male"   | "yes"    |        12.3            |
|----------|----------|------------------------|
| "female" | "no"     |        18.8            |
|----------|----------|------------------------|
| "female" | "yes"    |        15.6            |
|----------|----------|------------------------|

In this package we use the mtcars data set a lot, and below I'm going to walk through and example of how to use the heatmap function. First we need to fix the mtcars data, as several of the categorical variables are encoded as factors.

```{r}

	my_cars <- dplyr::mutate(mtcars, cyl = as.factor(mtcars$cyl),
													 gear = as.factor(mtcars$gear),
													 carb = as.factor(mtcars$carb),
													 am = as.factor(mtcars$am),
													 vs = as.factor(mtcars$vs))

str(my_cars)
```


Now we want to group the data by number of cylinders (cyl) and weather they are automatic or manual (am), and take the average of the miles per gallon, which will be our response varialbe in this case.

```{r}
	heat_data <- dplyr::ungroup(
		dplyr::summarise(dplyr::group_by(my_cars, am, cyl),
										 average_mpg = mean(mpg)))

heat_data


```

Now this data can be feed into our function heatmap()

heatmap(data, x1, x2, y, xlab = "x-axis", ylab = "y-axis", legendlab = "response\n variable")

* data is a summarized data frame with 2 factor variables and 1 continous variable
* x1 is a column of a data frame of the form data$variable name, that must contain summarized factor data.
* x2 is a column of a data frame of the form data$variable name, that must contain summarized factor data.
* y is a column of a data frame of the form data$variable name, that must contain summarized (double, integer, or numeric) data.
* xlab is the x-axis label - must be character data.
* ylab is the y-axis label - must be character data.
* legendlab is the legend label - must be character data.

```{r}


#heatmap(heat_data, heat_data$cyl, heat_data$am, heat_data$average_mpg, "cylinders", "am", "mpg")

```

![__heat map__](https://raw.githubusercontent.com/Adam-Ziada/coolgraph/master/Rplot.png)







